<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>THITA — Studio per maker</title>
  <meta name="description" content="THITA: identità, 3D e packaging per prodotti reali. Nato da maker, per maker." />
  <link rel="icon" href="favicon.png" type="image/png" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <meta property="og:type" content="website" />
  <meta property="og:title" content="THITA — Studio per maker" />
  <meta property="og:description" content="Design essenziale per chi costruisce: identità, 3D, packaging." />
  <meta property="og:image" content="/og-image.png" />
  <meta property="og:url" content="https://thita.it/" />

  <style>
    :root{
      --bg:#0b0b0b; --fg:#eaeaea; --muted:#a3a3a3; --line:#1e1e1e; --accent:#cbb887;
      --radius:16px; --maxw:780px; --pad:clamp(18px,4vw,40px);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--fg); font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; line-height:1.55; -webkit-font-smoothing:antialiased}
    a{color:inherit; text-decoration:none}
    .container{max-width:var(--maxw); margin:0 auto; padding: calc(env(safe-area-inset-top) + 10px) var(--pad) calc(env(safe-area-inset-bottom) + 32px)}

    /* Header minimale */
    header{display:flex; justify-content:space-between; align-items:center; gap:14px; padding:10px 0; position:sticky; top:0; background:color-mix(in oklab, var(--bg) 92%, transparent); backdrop-filter:saturate(120%) blur(6px); border-bottom:1px solid var(--line); z-index:20}
    .brand{display:flex; align-items:center; gap:10px}
    .logo{width:32px; height:32px; border-radius:8px; border:1px solid var(--line)}
    .wordmark{letter-spacing:.16em; text-transform:uppercase; font-weight:600; font-size:14px}
    .email{font-size:14px; opacity:.9}
    .email:hover{opacity:1}

    /* Hero tipografico */
    .hero{padding:40px 0 22px}
    h1{font-size:clamp(28px,6.5vw,48px); line-height:1.1; letter-spacing:-.01em; margin:0 0 8px}
    .lead{color:var(--muted); font-size:clamp(15px,2.8vw,18px); margin:0}
    .actions{display:flex; gap:10px; margin-top:16px}
    .btn{display:inline-block; border:1px solid var(--fg); background:var(--fg); color:var(--bg); padding:10px 14px; border-radius:12px; font-weight:600; font-size:14px}
    .btn.secondary{background:transparent; color:var(--fg); border-color:var(--line)}

    /* Blocchi compatti */
    .block{margin-top:30px; padding:18px; border:1px solid var(--line); border-radius:var(--radius); background:color-mix(in oklab, var(--bg) 96%, transparent)}
    .eyebrow{font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:color-mix(in oklab, var(--fg) 80%, var(--muted)); margin:0 0 8px}
    .list{margin:0; padding-left:18px; color:var(--muted)}
    .list li{margin:.35rem 0}

    .divider{height:1px; background:var(--line); border:0; margin:26px 0}

    /* Form minimale */
    form{display:grid; gap:10px}
    label{font-size:13px; color:color-mix(in oklab, var(--fg) 85%, var(--muted))}
    input,textarea{width:100%; padding:12px 12px; border-radius:12px; border:1px solid var(--line); background:transparent; color:var(--fg); font-size:15px; outline:none}
    input:focus,textarea:focus{border-color:color-mix(in oklab, var(--accent) 40%, var(--line)); box-shadow:0 0 0 3px color-mix(in oklab, var(--accent) 22%, transparent)}
    textarea{min-height:120px; resize:vertical}
    .error-message{display:none; font-size:12px; color:var(--accent)}

    footer{margin-top:30px; padding-top:14px; border-top:1px solid var(--line); color:var(--muted); font-size:13px; display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap}

    @media (max-width:560px){ .actions{flex-direction:column; align-items:flex-start} }
    @media (prefers-reduced-motion:reduce){ *{transition:none!important; animation:none!important} }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <img src="favicon.png" alt="THITA" class="logo" />
        <div class="wordmark">THITA</div>
      </div>
      <a class="email" href="mailto:info@thita.it">info@thita.it</a>
    </header>

    <main>
      <section class="hero" id="home">
        <h1>Design per chi costruisce.</h1>
        <p class="lead">Identità, 3D e packaging per prodotti reali. Poche cose, fatte bene. Dal prototipo alla produzione.</p>
        <div class="actions">
          <a class="btn" href="#contatti">Parla con noi</a>
          <a class="btn secondary" href="#servizi">Cosa facciamo</a>
        </div>
      </section>

      <section class="block" id="servizi" aria-label="Cosa facciamo">
        <p class="eyebrow">Cosa facciamo</p>
        <ul class="list">
          <li><strong>Identità.</strong> Logotype, sistemi tipografici e linee guida operative.</li>
          <li><strong>3D & prototipazione.</strong> Render, tolleranze, iterazioni rapide.</li>
          <li><strong>Packaging.</strong> Materiali, fustelle e prestampa pronta.</li>
        </ul>
      </section>

      <hr class="divider"/>

      <section class="block" id="contatti" aria-label="Contatti">
        <p class="eyebrow">Contatti</p>
        <form id="contactForm" novalidate>
          <label for="nome">Nome e Cognome <span aria-hidden="true" style="color: var(--accent);">*</span></label>
          <input type="text" id="nome" name="nome" placeholder="Il tuo nome" required autocomplete="name" spellcheck="false" />
          <div class="error-message">Inserisci il tuo nome completo.</div>

          <label for="email">Email <span aria-hidden="true" style="color: var(--accent);">*</span></label>
          <input type="email" id="email" name="email" placeholder="tua@email.com" required autocomplete="email" spellcheck="false" />
          <div class="error-message">Inserisci una email valida.</div>

          <label for="messaggio">Messaggio <span aria-hidden="true" style="color: var(--accent);">*</span></label>
          <textarea id="messaggio" name="messaggio" placeholder="Raccontaci in breve il progetto" required spellcheck="true"></textarea>
          <div class="error-message">Il messaggio non può essere vuoto.</div>

          <!-- Honeypot antispam -->
          <input type="text" name="company" id="company" tabindex="-1" autocomplete="off" style="position:absolute; left:-9999px; opacity:0;" aria-hidden="true" />

          <button type="submit" class="btn" aria-label="Invia">Invia</button>
          <p class="lead" id="formStatus" role="status" aria-live="polite" style="font-size:13px; margin:6px 0 0; color:var(--muted)"></p>
        </form>
      </section>

      <footer>
        <span>© <span id="y"></span> THITA</span>
        <span><a href="mailto:info@thita.it">info@thita.it</a></span>
      </footer>
    </main>
  </div>

  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Contact form + Make webhook (endpoint aggiornato)
    const form = document.getElementById('contactForm');
    const statusEl = document.getElementById('formStatus');
    const isEmailValid = (email) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const fields = [
        { input: form.nome, error: form.nome.nextElementSibling, type: 'text' },
        { input: form.email, error: form.email.nextElementSibling, type: 'email' },
        { input: form.messaggio, error: form.messaggio.nextElementSibling, type: 'text' }
      ];

      let isValid = true;
      fields.forEach(f => {
        const value = f.input.value.trim();
        if (!value) {
          f.error.style.display = 'block';
          f.input.setAttribute('aria-invalid','true');
          isValid = false;
        } else if (f.type === 'email' && !isEmailValid(value)) {
          f.error.style.display = 'block';
          f.input.setAttribute('aria-invalid','true');
          isValid = false;
        } else {
          f.error.style.display = 'none';
          f.input.setAttribute('aria-invalid','false');
        }
      });

      if (document.getElementById('company').value) return; // honeypot
      if (!isValid) return;

      const payload = {
        name: form.nome.value.trim(),
        email: form.email.value.trim(),
        message: form.messaggio.value.trim(),
        site: 'thita.it'
      };

      statusEl.textContent = 'Invio in corso…';
      try{
        const response = await fetch('https://hook.eu1.make.com/m16ifvwmnq5dcmy5eyw15ql9esz5mcfm', {
          method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(payload), mode:'cors', keepalive:true
        });
        if(!response.ok) throw new Error('Errore invio');
        statusEl.textContent = 'Grazie! Messaggio inviato.';
        form.reset();
      }catch(err){
        console.error(err);
        statusEl.textContent = 'Errore durante l\'invio. Scrivi a info@thita.it';
      }
    });
  </script>
</body>
</html>
